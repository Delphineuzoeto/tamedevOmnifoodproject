<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Omnifood</title>
		<link rel="stylesheet" href="assets/css/style.css">
		<link rel="stylesheet" href="assets/css/responsive.css">
		<!-- <link rel="stylesheet" href="assets/css/queries.css"> -->

		<link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
            rel="stylesheet"
            />

		<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
		<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

        <style>
            .pre-loading{
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                gap: 2rem;
            }
            .pre-loading .react-loader{
                height: 70px;
            }
        </style>
	</head>
	<body>

		<!-- header -->
		<header class="header">
			<div class="header-logo">
				<img src="assets/images/logo.png" alt="omnifood logo">
			</div>

			<nav class="navbar navbar-left navbar-collapse">
				<ul>
					<li><a href="#">How it works</a></li>
					<li><a href="#">Meals</a></li>
					<li><a href="#">Testimonials</a></li>
					<li><a href="#">Pricing</a></li>
					<li class="cta-button">
						<a class="btn" href="#">
							Try for free
						</a>
					</li>
				</ul>
			</nav>

			<!-- Menu Icon -->
			<button class="menu-icon">
				<ion-icon class="icon-open " name="menu-sharp"></ion-icon>
				<ion-icon class="icon-close" name="close-outline"></ion-icon>
			</button>
		</header>

		<main class="container---">

			<!-- hero-section -->
			<section class="hero-section">
				<div class="container-main d-flex hero-wrapper">
					<div class="hero-div">
						<h1 class="hero-heading">
							A healthy meal delivered to your door, every single day.
						</h1>
						<p class="hero-desc">
							The smart 365-days-per-year food subscription that will make yoeat healthy again.Tailored to your personal
							tastes annutritional needs.
						</p>
						
						<div class="hero-cta">
							<a href="" class="btn btn__primary">
								Start eating well
							</a>
							<a href="" class="btn btn__outline">
								Learn more
							</a>
						</div>

						<div class="delivered-meals">
							<div class="delivered-imgs">
								<img src="assets/images/customer1.jpeg" alt=" customer face">
								<img src="assets/images/customer2.jpeg" alt=" customer face">
								<img src="assets/images/customer1.jpeg" alt=" customer face">
								<img src="assets/images/customer2.jpeg" alt=" customer face">
								<img src="assets/images/customer4.jpeg" alt=" customer face">
								<img src="assets/images/customer3.jpeg" alt=" customer face">
							</div>
							<p class="delivered-desc">
								<span>250,000+</span> meals delivered last year!
							</p>
						</div>
					</div>
					<div class="hero-img-wrapper" mobile-->
						<div class="pre-loading">
							<div class="react-loader"></div>
							<div class="react-loader"></div>
							<div class="react-loader"></div>
							<div class="react-loader"></div>
						</div>

						<!-- we'll preload the image -->
						<!-- <img src="assets/images/hero.png" alt="different varietie of food"> -->
					</div>
				</div>
			</section>
		</main>
		
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="assets/js/navigator.js"></script>
		<script src="assets/js/app.js"></script>
		<script>

			const loadImage = async () => {
				try {
					const response = await fetch('assets/images/hero.png');
					const preloadingDiv = document.querySelector('.pre-loading');
					const heroImgWrapper = document.querySelector('.hero-img-wrapper');

					if (response.ok) {
						
						const blob = await response.blob();
						const imgURL = URL.createObjectURL(blob);

						const imgElement = document.createElement('img');
						imgElement.src = imgURL;
						imgElement.alt = 'different varieties of food';

						// Replace pre-loading div with the img element
						// i added a delay just so you can be able to see the preloader effect on the browser
						setTimeout(() => {
							heroImgWrapper.replaceChild(imgElement, preloadingDiv);
						}, 1500);
					}
					
				} catch (error) {
					console.error('Error loading image:', error);
				}
			};

			loadImage();
		</script>
	</body>
</html>